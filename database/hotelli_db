CREATE DATABASE hotelli_db;
USE hotelli_db;


CREATE TABLE hotelli (
    hotelli_id INT PRIMARY KEY AUTO_INCREMENT,
    kaupunki VARCHAR(100),
    nimi VARCHAR(100),
    osoite VARCHAR(255),
    puh VARCHAR(20),
    maa VARCHAR(50)
);

CREATE TABLE kayttaja (
    kayttaja_id INT PRIMARY KEY AUTO_INCREMENT,
    etunimi VARCHAR(100),
    sukunimi VARCHAR(100),
    sposti VARCHAR(100) NOT NULL,
    puh VARCHAR(20),
    rooli VARCHAR(50) NOT NULL,
    salasana VARCHAR(255) NOT NULL
);

CREATE TABLE huone (
    huone_id INT PRIMARY KEY AUTO_INCREMENT,
    huone_nro INT NOT NULL,
    huone_tyyppi VARCHAR(50),
    huone_tila VARCHAR(50),
    huone_hinta DECIMAL(10, 2) NOT NULL,
    hotelli_id INT,
    FOREIGN KEY (hotelli_id) REFERENCES hotelli(hotelli_id)
);


CREATE TABLE huone_varaus (
    varaus_id INT PRIMARY KEY AUTO_INCREMENT,
    huone_maara INT NOT NULL,
    alku_pvm DATE NOT NULL,
    loppu_pvm DATE NOT NULL,
    huone_id INT,
    lasku_id INT,
    FOREIGN KEY (huone_id) REFERENCES huone(huone_id),
    FOREIGN KEY (lasku_id) REFERENCES lasku(lasku_id)
);

CREATE TABLE lasku (
    lasku_id INT PRIMARY KEY AUTO_INCREMENT,
    maksu_status VARCHAR(50) NOT NULL,
    varaus_muoto VARCHAR(50) NOT NULL,
    valuutta VARCHAR(20)
);

CREATE TABLE asiakas (
    asiakas_id INT PRIMARY KEY AUTO_INCREMENT,
    etunimi VARCHAR(100) NOT NULL,
    sukunimi VARCHAR(100) NOT NULL,
    sposti VARCHAR(100) NOT NULL,
    puh VARCHAR(20),
    henkilo_maara INT(5),
    huomio VARCHAR(500),
    lasku_id INT,
    FOREIGN KEY (lasku_id) REFERENCES lasku(lasku_id)
);






